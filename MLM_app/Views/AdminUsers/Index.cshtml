@using MLM_app.Models
@model IEnumerable<ApplicationUser>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutMLM.cshtml";
}
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery-ui.min-1.11.1.js"></script>

<script>
    $(document).ready(function () {
        $("#UserName").on("input", function () {
            var options = {};
            options.url = "/AdminUsers/GetUsersList";
            options.type = "GET";
            options.data = { "criteria": $("#UserName").val() };
            options.dataType = "json";
            options.success = function (data) {
                $("#UsersList").empty();
                for (var i = 0; i < data.length; i++) {
                    $("#UsersList").append("<option value='" +
                        data[i].Email + "'></option>");
                }
            };
            $.ajax(options);
        });

    });
</script>
<h2 class="title text-center">Users</h2>
<section id="cart_items">
    <div class="container">
        @Html.ActionLink("Submit New User", "Create", null, new { @class = "btn btn-primary" })
        <p></p>
        <div class="table-responsive cart_info">
            <table class="table table-condensed table-hover">
                <thead>
                    <tr class="cart_menu text-center">
                        <td>Email</td>
                        <td>Name</td>
                        <td></td>
                    </tr>
                </thead>
                <tbody class="text-center">
                    @if (!Model.Any())
                    {
                        <tr><td colspan="4" class="text-center">No User Accounts</td></tr>
                    }
                    else
                    {
                        foreach (ApplicationUser user in Model)
                        {
                            <tr>
                                <td>@user.Email</td>
                                <td>@user.EnglishName</td>
                                <td>
                                    @using (Html.BeginForm("Delete", "AdminUsers", new { id = user.Id }))
                                    {
                                        @Html.ActionLink("Edit", "Edit", new { id = user.Id })
                                        <button class="btn btn-danger btn-xs" type="submit">
                                            Delete
                                        </button>
                                        @Html.ActionLink("Roles", "EditRols", new { id = user.Id })


                                    }
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>